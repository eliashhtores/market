{% extends "base.html" %}

{% load static %}

{% block content %}

<div class="container">
    <div class="row d-flex justify-content-center">
        <h4>Product details</h4>
    </div>
    <div class="row d-flex justify-content-center">
        <div class="card">
            <div class="card-body mx-5 my-3">
                <h3>{{ product.name }}</h3>
                <strong>Barcode: </strong>{{ product.barcode }}<br>
                <strong>Provider: </strong>{{ product.provider }}<br>
                <strong>Brand: </strong>{{ product.brand }}<br>
                <strong>Expiration date: </strong>{{ product.expiration_date }}<br>
                <strong>Unit of measure: </strong>{{ product.unit }}<br>
                <strong>Stock: </strong>{{ product.qty_available }}<br>
                <strong>Price: </strong>{{ product.price }}<br>
                <strong>Cost: </strong>{{ product.cost }}<br>
                <strong>Sales: </strong>{{ product.sales }}<br>
                <strong>Description: </strong>{{ product.description }}<br>
            </div>
        </div>
    </div>
    <h3 class="mt-2">Sales during the past 30 days</h3>
    {% if sales %}
    <table class="table table-sm table-hover table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Product</th>
                <th>Sales</th>
            </tr>
        </thead>
        <tbody>
            {% for sale in sales %}
            <tr>
                <td>{{ sale.sale__date__date }}</td>
                <td>{{ sale.product__name }}</td>
                <td>{{ sale.quantity_sold }}</td>
            </tr>
            {% endfor %}
            {% else %}
            <p class="text-success">No sales registered.</p>
            {% endif %}
        </tbody>
    </table>
    <div class="row">
        <div class="col-md-6">
            <a href="{% url 'product_app:product_list' %}" class="btn btn-primary">Return</a>
        </div>
        <div class="col-md-6 d-flex justify-content-end">
            <a href="{% url 'product_app:product_print' product.id %}" class="btn btn-outline-primary">Print</a>
        </div>
    </div>
</div>

{% endblock %}